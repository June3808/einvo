$(function(){var t=abp.localization.getResource("SysResource");let i="",r="",u=$("#QueryModel_StartTime").val(),f=$("#QueryModel_EndTime").val(),n=$("#QueryModel_HasException").val(),e=$("#QueryModel_ApplicationName").val();var o=sys.auditLogs.auditLog,s=new abp.ModalManager({viewUrl:abp.appPath+"AuditLogs/DetailModal",modalClass:"AuditlogDetailModal"}),h=$("#SystemLogTable").DataTable(abp.libs.datatables.normalizeConfiguration({processing:!0,serverSide:!0,paging:!0,searching:!1,autoWidth:!1,scrollCollapse:!0,order:[[1,"asc"]],ajax:abp.libs.datatables.createAjax(o.getList,function(){let t=!1;return n=="true"?t=!0:n==""&&(t=null),{queryString:i,startTime:moment.utc(u),endTime:moment.utc(f),userName:r,hasException:n,applicationName:e}}),columnDefs:[{rowAction:{items:[{text:t("Detail"),action:function(n){s.open({id:n.record.id})}}]}},{title:t("executionTime"),data:"executionTime",render:function(n){return luxon.DateTime.fromISO(n,{locale:abp.localization.currentCulture.name}).toFormat("yyyy-MM-dd HH:mm:ss")}},{title:t("httpMethod"),data:"httpMethod",render:function(n,t,i){let r="";return i.httpMethod!=null&&(r='<span class="badge bg-warning">'+i.httpStatusCode+"<\/span>&nbsp"+i.httpMethod),r}},{data:"userName"},{data:"applicationName"},]}));$("#search-button").click(function(){i=$("#QueryModel_QueryString").val();u=$("#QueryModel_StartTime").val();f=$("#QueryModel_EndTime").val();n=$("#QueryModel_HasException").val();e=$("#QueryModel_ApplicationName").val();r=$("#QueryModel_UserName").val();h.ajax.reload()})});